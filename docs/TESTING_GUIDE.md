# 测试指南

本文档说明如何在本地环境中测试系统功能。

## 创建测试账号

系统提供了一个便捷的脚本来创建测试用户,无需手动注册。

### 前提条件

确保你的 `.env.local` 文件包含以下环境变量:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### 创建测试用户

运行以下命令:

```bash
npm run create:test-user
```

这将创建以下测试账号:

| 用途 | 邮箱 | 密码 |
|------|------|------|
| 普通测试 | test@example.com | Test123456! |
| 管理员测试 | admin@example.com | Admin123456! |
| 演示账号 | demo@example.com | Demo123456! |

### 登录测试

1. 启动开发服务器:
   ```bash
   npm run dev
   ```

2. 访问登录页面:
   ```
   http://localhost:3000/login
   ```

3. 使用上述任一测试账号登录

## 测试功能模块

登录后,你可以测试以下功能:

### 1. Dashboard (仪表板)
- 访问: `/dashboard`
- 功能: 查看所有功能模块入口

### 2. 营销数字化
- 访问: `/marketing`
- 功能: 
  - 查看广告活动数据
  - ROAS分析
  - SEO数据

### 3. 用户增长
- 访问: `/growth`
- 功能:
  - RFM客户分析
  - 客户列表
  - 自动化营销规则

### 4. 内容运营
- 访问: `/content`
- 功能:
  - AI内容生成
  - 内容资产管理
  - 社媒数据分析

### 5. 供应链管理
- 访问: `/supply-chain`
- 功能:
  - 库存管理
  - 订单追踪
  - 物流监控

### 6. 智能决策中心
- 访问: `/intelligence`
- 功能:
  - 自定义仪表板
  - AI预测
  - 自动化工作流
  - 智能预警

### 7. 集成管理
- 访问: `/integrations`
- 功能:
  - 查看已连接的集成
  - 添加新集成
  - 管理OAuth授权

### 8. 模块管理
- 访问: `/modules`
- 功能:
  - 启用/禁用功能模块
  - 查看模块状态

## 测试数据

由于这是本地开发环境,大部分页面会显示空状态。这是正常的,因为:

1. **没有真实的第三方集成** - 需要配置真实的API密钥
2. **没有历史数据** - 数据库是空的

### 添加测试数据

你可以通过以下方式添加测试数据:

1. **手动添加**:
   - 使用Supabase Studio直接在数据库中插入数据

2. **使用API**:
   - 通过系统的API端点创建数据

3. **运行爬虫**:
   - 访问 `/admin/real-crawler` 运行商品爬虫

## 常见问题

### Q: 登录后显示Unauthorized?
A: 确保你已经运行了数据库迁移:
```bash
npm run migration:007
```

### Q: 页面显示空状态?
A: 这是正常的,因为没有数据。你可以:
- 添加测试数据
- 连接真实的第三方服务
- 运行爬虫获取商品数据

### Q: OAuth授权失败?
A: OAuth功能需要:
- 在第三方平台注册应用
- 配置环境变量中的Client ID和Secret
- 设置正确的回调URL

### Q: 如何重置测试账号密码?
A: 再次运行 `npm run create:test-user`,脚本会自动更新密码

## 开发建议

1. **使用测试账号** - 不要在生产环境使用这些测试账号
2. **定期清理数据** - 测试完成后清理测试数据
3. **检查控制台** - 查看浏览器控制台的错误信息
4. **查看日志** - 检查服务器端的日志输出

## 下一步

- 配置真实的第三方集成
- 添加更多测试数据
- 部署到Vercel进行在线测试
- 配置生产环境的环境变量
