# 商品批量删除功能演示

## 🎬 功能演示

### 场景 1: 删除不推荐商品

#### 步骤演示

1. **访问商品列表页面**
   ```
   http://localhost:3000/products
   ```

2. **查看当前商品统计**
   - 页面顶部显示: "共 150 个商品"
   - 其中可能包含推荐分数低于 50 的商品

3. **点击删除不推荐按钮**
   - 位置: 统计信息栏右侧
   - 按钮: 🗑️ 删除不推荐（橙色）

4. **查看确认对话框**
   ```
   标题: 确认删除不推荐商品
   
   说明: 此操作将删除所有推荐分数低于 50 的商品，删除后无法恢复。
   
   提示: 💡 推荐分数低于 50 的商品通常表示市场潜力较低或竞争过于激烈
   
   按钮: [取消] [确认删除]
   ```

5. **确认删除**
   - 点击"确认删除"按钮
   - 按钮变为"删除中..."
   - 等待删除完成

6. **查看结果**
   - Toast 通知: "删除成功 - 已删除 45 个不推荐的商品"
   - 商品列表自动刷新
   - 统计信息更新: "共 105 个商品"
   - 页面返回第一页

### 场景 2: 清空商品列表

#### 步骤演示

1. **访问商品列表页面**
   ```
   http://localhost:3000/products
   ```

2. **点击清空列表按钮**
   - 位置: 统计信息栏右侧
   - 按钮: 🗑️ 清空列表（红色）

3. **查看警告对话框**
   ```
   标题: 确认清空商品列表
   
   说明: 此操作将清空所有商品数据，删除后无法恢复。
   
   警告: ⚠️ 此操作将删除所有商品数据，包括趋势历史记录
   
   按钮: [取消] [确认删除]
   ```

4. **确认删除**
   - 点击"确认删除"按钮
   - 按钮变为"删除中..."
   - 等待删除完成

5. **查看结果**
   - Toast 通知: "删除成功 - 已清空所有商品，共删除 105 个商品"
   - 显示空状态页面
   - 提示: "暂无商品"
   - 显示"重置筛选"按钮

### 场景 3: 取消删除操作

#### 步骤演示

1. **点击任意删除按钮**
2. **在确认对话框中点击"取消"**
3. **验证结果**
   - 对话框关闭
   - 商品列表没有变化
   - 统计信息保持不变

## 📸 UI 截图说明

### 1. 商品列表页面
```
┌─────────────────────────────────────────────────────────┐
│ 商品浏览                                                 │
├─────────────────────────────────────────────────────────┤
│ 共 150 个商品  最后更新: 14:30:25  • 自动检测中         │
│                    [🔄 刷新] [🗑️ 删除不推荐] [🗑️ 清空列表] │
├─────────────────────────────────────────────────────────┤
│ 平台: [全部平台] [Amazon] [AliExpress]                  │
│ 排序: [推荐评分 ▼]  视图: [网格] [列表]                 │
├─────────────────────────────────────────────────────────┤
│ [商品卡片1] [商品卡片2] [商品卡片3] [商品卡片4]         │
│ [商品卡片5] [商品卡片6] [商品卡片7] [商品卡片8]         │
└─────────────────────────────────────────────────────────┘
```

### 2. 删除不推荐确认对话框
```
┌─────────────────────────────────────────┐
│ 确认删除不推荐商品                       │
├─────────────────────────────────────────┤
│ 此操作将删除所有推荐分数低于 50 的商品， │
│ 删除后无法恢复。                         │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 💡 提示：推荐分数低于 50 的商品通常  │ │
│ │ 表示市场潜力较低或竞争过于激烈       │ │
│ └─────────────────────────────────────┘ │
│                                         │
│                    [取消] [确认删除]     │
└─────────────────────────────────────────┘
```

### 3. 清空列表确认对话框
```
┌─────────────────────────────────────────┐
│ 确认清空商品列表                         │
├─────────────────────────────────────────┤
│ 此操作将清空所有商品数据，删除后无法恢复。│
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ ⚠️ 警告：此操作将删除所有商品数据，  │ │
│ │ 包括趋势历史记录                     │ │
│ └─────────────────────────────────────┘ │
│                                         │
│                    [取消] [确认删除]     │
└─────────────────────────────────────────┘
```

### 4. 删除成功通知
```
┌─────────────────────────────────────────┐
│ ✅ 删除成功                              │
│ 已删除 45 个不推荐的商品                 │
└─────────────────────────────────────────┘
```

### 5. 空状态页面
```
┌─────────────────────────────────────────┐
│ 商品浏览                                 │
├─────────────────────────────────────────┤
│ 共 0 个商品                              │
├─────────────────────────────────────────┤
│                                         │
│              📦                         │
│                                         │
│          暂无商品                        │
│   当前筛选条件下没有找到商品             │
│                                         │
│         [重置筛选]                       │
│                                         │
└─────────────────────────────────────────┘
```

## 🎯 交互流程图

```
开始
  │
  ├─→ 点击"删除不推荐"
  │     │
  │     ├─→ 显示确认对话框（橙色提示）
  │     │     │
  │     │     ├─→ 点击"取消" → 关闭对话框 → 结束
  │     │     │
  │     │     └─→ 点击"确认删除"
  │     │           │
  │     │           ├─→ 显示"删除中..."
  │     │           │
  │     │           ├─→ 调用 API 删除
  │     │           │
  │     │           ├─→ 成功
  │     │           │     │
  │     │           │     ├─→ 显示成功通知
  │     │           │     ├─→ 刷新商品列表
  │     │           │     └─→ 结束
  │     │           │
  │     │           └─→ 失败
  │     │                 │
  │     │                 ├─→ 显示错误通知
  │     │                 └─→ 结束
  │     │
  │
  └─→ 点击"清空列表"
        │
        ├─→ 显示确认对话框（红色警告）
        │     │
        │     ├─→ 点击"取消" → 关闭对话框 → 结束
        │     │
        │     └─→ 点击"确认删除"
        │           │
        │           ├─→ 显示"删除中..."
        │           │
        │           ├─→ 调用 API 删除
        │           │
        │           ├─→ 成功
        │           │     │
        │           │     ├─→ 显示成功通知
        │           │     ├─→ 显示空状态
        │           │     └─→ 结束
        │           │
        │           └─→ 失败
        │                 │
        │                 ├─→ 显示错误通知
        │                 └─→ 结束
```

## 🧪 测试场景

### 测试 1: 正常删除流程
1. 确保有商品数据
2. 执行删除操作
3. 验证删除成功
4. 验证列表刷新

### 测试 2: 空列表删除
1. 清空所有商品
2. 再次点击删除
3. 验证提示信息
4. 验证不会报错

### 测试 3: 网络错误
1. 断开网络
2. 执行删除操作
3. 验证错误提示
4. 验证状态恢复

### 测试 4: 并发操作
1. 快速连续点击删除
2. 验证防重复提交
3. 验证数据一致性

## 💡 使用技巧

1. **定期清理** - 建议每周清理一次不推荐商品
2. **备份数据** - 清空前先导出重要数据
3. **测试环境** - 先在测试环境验证效果
4. **分批操作** - 大量数据时考虑分批删除

## 📞 常见问题

**Q: 删除后能恢复吗？**
A: 不能，删除操作是永久性的，建议删除前备份数据。

**Q: 删除会影响趋势历史吗？**
A: 会，相关的趋势历史记录会被级联删除。

**Q: 可以自定义推荐分数阈值吗？**
A: 目前默认为 50，未来版本会支持自定义。

**Q: 删除操作需要多长时间？**
A: 通常几秒钟内完成，大量数据可能需要更长时间。

## 🔗 相关链接

- [功能详细说明](./PRODUCT_BULK_DELETE.md)
- [快速参考](./BULK_DELETE_QUICK_REFERENCE.md)
- [测试指南](./TESTING_BULK_DELETE.md)
- [实现总结](./BULK_DELETE_IMPLEMENTATION_SUMMARY.md)
